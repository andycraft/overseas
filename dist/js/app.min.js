function isMobile(){let e=document.querySelector(".menu-bar__desktop-menu");return"none"==window.getComputedStyle(e).getPropertyValue("display")}function addEventHandler(e,t,s){document.querySelectorAll(e).forEach(e=>{e.addEventListener(t,s)})}function toggleMobileMenu(e){e.preventDefault(),document.querySelector(".mobile-menu").classList.toggle("is-active")}function toggleDropDownMenu(e){e.preventDefault();let t=this.parentElement,s=t.classList.contains("menu-bar__user"),i=t.classList.contains("is-active");s&&isMobile()?(t.classList.remove("is-active"),toggleMobileMenu(e)):i?t.classList.remove("is-active"):(document.querySelector(".menu-bar__user").classList.remove("is-active"),document.querySelector(".menu-bar__language").classList.remove("is-active"),document.querySelector(".menu-bar__currency").classList.remove("is-active"),t.classList.add("is-active"))}function toggleSubMenu(e){e.preventDefault(),this.parentElement.classList.toggle("is-active")}function showAllCountries(e){e.preventDefault();document.querySelectorAll(".main-search__countries__country-list .is-hidden").forEach(e=>{e.classList.remove("is-hidden")}),document.querySelector(".main-search__countries__show-all").remove()}console.log("dom ready"),addEventHandler(".mobile-menu-burger__button","click",toggleMobileMenu),addEventHandler(".mobile-menu__list__item.has-submenu > a","click",toggleSubMenu),addEventHandler(".menu-bar__user__button, .menu-bar__currency__button, .menu-bar__language__button","click",toggleDropDownMenu),addEventHandler(".main-search__countries__show-all__button","click",showAllCountries),addEventHandler(".add-listing__dropdown-input__button","click",(function(e){e.preventDefault(),this.parentElement.classList.toggle("is-active")})),addEventHandler(".add-listing__tag","click",(function(e){e.preventDefault(),this.classList.toggle("is-selected")})),addEventHandler(".property-details__description__title__see-more","click",(function(e){e.preventDefault(),this.parentElement.classList.toggle("is-active"),document.querySelector(".property-details__description__text").classList.toggle("is-hidden")})),addEventHandler(".inline-form__input__dropdown","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".property-details__data__item__button--save","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".property-gm__switch--to-map","click",(function(e){e.preventDefault(),this.classList.add("is-hidden"),document.querySelector(".property-gallery").classList.add("is-hidden"),document.querySelector(".property-gm__switch--to-gallery").classList.remove("is-hidden"),document.querySelector(".property-map").classList.remove("is-hidden")})),addEventHandler(".property-gm__switch--to-gallery","click",(function(e){e.preventDefault(),this.classList.add("is-hidden"),document.querySelector(".property-map").classList.add("is-hidden"),document.querySelector(".property-gm__switch--to-map").classList.remove("is-hidden"),document.querySelector(".property-gallery").classList.remove("is-hidden")})),addEventHandler(".property-map__zoom","click",(function(e){e.preventDefault(),this.classList.toggle("is-active"),document.querySelector(".property-map__map").classList.toggle("is-zoomed")})),addEventHandler(".similar-properties__item__photo__save","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),document.querySelectorAll(".country-list__item").forEach(e=>{let t=e.querySelector(".country-list__item-country");t&&(e.title=t.innerText)}),addEventHandler(".agency-description__title__see-more","click",(function(e){e.preventDefault(),this.parentElement.classList.toggle("is-active"),document.querySelector(".agency-description__text").classList.toggle("is-hidden")})),addEventHandler(".agency-specialists__title__see-more","click",(function(e){e.preventDefault(),this.parentElement.classList.toggle("is-active"),document.querySelector(".agency-specialists__list").classList.toggle("is-hidden")})),addEventHandler(".property-list__item-photo-remove, .property-list__item-details-buttons-remove, .property-list__item-info-buttons-remove","click",(function(e){e.preventDefault();let t=this.closest(".property-list__item");t&&t.classList.toggle("is-hidden")})),addEventHandler(".property-list__item-photo-like, .property-list__item-details-buttons-like, .property-list__item-info-buttons-like","click",(function(e){e.preventDefault();let t=this.closest(".property-list__item");t&&t.classList.toggle("is-liked")})),addEventHandler(".search-form__flats-button, .search-form__bedrooms-button, .search-form__cost-button","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".search-form__filters-button","click",(function(e){e.preventDefault(),this.classList.toggle("is-active");let t=document.querySelector(".search-form__popup");t&&t.classList.toggle("is-hidden")})),addEventHandler(".search-form__popup-input-button","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".search-form__popup-tag","click",(function(e){e.preventDefault(),this.classList.toggle("is-selected")})),addEventHandler(".search-form__popup-title-switch","click",(function(e){e.preventDefault();let t=this.closest(".search-form__popup-group");t&&t.classList.toggle("is-active")})),addEventHandler(".search-result__tag-remove","click",(function(e){e.preventDefault();let t=this.closest(".search-result__tag");t&&t.remove()})),addEventHandler(".search-result__controls-item-button","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".content__body--common .tabs__item","click",(function(e){e.preventDefault(),this.closest(".tabs").querySelectorAll(".tabs__item").forEach(e=>{e.classList.remove("is-selected")}),this.classList.add("is-selected")})),addEventHandler(".content__body--common .faq__item-link","click",(function(e){e.preventDefault();let t=this.closest(".faq__item");t&&t.classList.toggle("is-active")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJpc01vYmlsZSIsImRlc2t0b3BNZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJhZGRFdmVudEhhbmRsZXIiLCJzZWxlY3RvciIsImV2ZW50IiwiaGFuZGxlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTW9iaWxlTWVudSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInRvZ2dsZURyb3BEb3duTWVudSIsInBhcmVudCIsInRoaXMiLCJwYXJlbnRFbGVtZW50IiwiaXNVc2VyTWVudSIsImNvbnRhaW5zIiwiaXNBY3RpdmUiLCJyZW1vdmUiLCJhZGQiLCJ0b2dnbGVTdWJNZW51Iiwic2hvd0FsbENvdW50cmllcyIsImNvdW50cnkiLCJjb25zb2xlIiwibG9nIiwidGl0bGUiLCJpbm5lclRleHQiLCJwcm9wZXJ0eSIsImNsb3Nlc3QiLCJwb3B1cCIsImdyb3VwIiwidGFnIiwidGFiIiwiZmFxX2l0ZW0iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFdBRUwsSUFBSUMsRUFBY0MsU0FBU0MsY0FBYywyQkFFekMsTUFBa0IsUUFETEMsT0FBT0MsaUJBQWlCSixHQUFhSyxpQkFBaUIsV0FJdkUsU0FBU0MsZ0JBQWdCQyxFQUFVQyxFQUFPQyxHQUV0Q1IsU0FBU1MsaUJBQWlCSCxHQUFVSSxRQUFRQyxJQUN4Q0EsRUFBR0MsaUJBQWlCTCxFQUFPQyxLQUluQyxTQUFTSyxpQkFBaUJDLEdBRXRCQSxFQUFFQyxpQkFDRmYsU0FBU0MsY0FBYyxnQkFBZ0JlLFVBQVVDLE9BQU8sYUFHNUQsU0FBU0MsbUJBQW1CSixHQUV4QkEsRUFBRUMsaUJBRUYsSUFBSUksRUFBU0MsS0FBS0MsY0FDZEMsRUFBYUgsRUFBT0gsVUFBVU8sU0FBUyxrQkFDdkNDLEVBQVdMLEVBQU9ILFVBQVVPLFNBQVMsYUFFckNELEdBQWN4QixZQUNkcUIsRUFBT0gsVUFBVVMsT0FBTyxhQUN4QlosaUJBQWlCQyxJQUViVSxFQUNBTCxFQUFPSCxVQUFVUyxPQUFPLGNBR3hCekIsU0FBU0MsY0FBYyxtQkFBbUJlLFVBQVVTLE9BQU8sYUFDM0R6QixTQUFTQyxjQUFjLHVCQUF1QmUsVUFBVVMsT0FBTyxhQUMvRHpCLFNBQVNDLGNBQWMsdUJBQXVCZSxVQUFVUyxPQUFPLGFBRy9ETixFQUFPSCxVQUFVVSxJQUFJLGNBT2pDLFNBQVNDLGNBQWNiLEdBRW5CQSxFQUFFQyxpQkFDRkssS0FBS0MsY0FBY0wsVUFBVUMsT0FBTyxhQUd4QyxTQUFTVyxpQkFBaUJkLEdBRXRCQSxFQUFFQyxpQkFFc0JmLFNBQVNTLGlCQUFpQixvREFFbENDLFFBQVNtQixJQUNyQkEsRUFBUWIsVUFBVVMsT0FBTyxlQUc3QnpCLFNBQVNDLGNBQWMscUNBQXFDd0IsU0FJNURLLFFBQVFDLElBQUksYUFJWjFCLGdCQUFnQiw4QkFBK0IsUUFBU1Esa0JBQ3hEUixnQkFBZ0IsMkNBQTRDLFFBQVNzQixlQUVyRXRCLGdCQUNJLG9GQUNBLFFBQ0FhLG9CQUtKYixnQkFBZ0IsNENBQTZDLFFBQVN1QixrQkFJdEV2QixnQkFBZ0IsdUNBQXdDLFNBQVMsU0FBU1MsR0FDdEVBLEVBQUVDLGlCQUNGSyxLQUFLQyxjQUFjTCxVQUFVQyxPQUFPLGdCQUd4Q1osZ0JBQWdCLG9CQUFxQixTQUFTLFNBQVNTLEdBQ25EQSxFQUFFQyxpQkFDRkssS0FBS0osVUFBVUMsT0FBTyxrQkFHMUJaLGdCQUFnQixrREFBbUQsU0FBUyxTQUFTUyxHQUNqRkEsRUFBRUMsaUJBQ0ZLLEtBQUtDLGNBQWNMLFVBQVVDLE9BQU8sYUFDcENqQixTQUFTQyxjQUFjLHdDQUF3Q2UsVUFBVUMsT0FBTyxnQkFHcEZaLGdCQUFnQixnQ0FBaUMsU0FBUyxTQUFTUyxHQUMvREEsRUFBRUMsaUJBQ0ZLLEtBQUtKLFVBQVVDLE9BQU8sZ0JBSzFCWixnQkFBZ0IsOENBQStDLFNBQVMsU0FBU1MsR0FDN0VBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPLGdCQUcxQlosZ0JBQWdCLCtCQUFnQyxTQUFTLFNBQVNTLEdBQzlEQSxFQUFFQyxpQkFDRkssS0FBS0osVUFBVVUsSUFBSSxhQUNuQjFCLFNBQVNDLGNBQWMscUJBQXFCZSxVQUFVVSxJQUFJLGFBQzFEMUIsU0FBU0MsY0FBYyxvQ0FBb0NlLFVBQVVTLE9BQU8sYUFDNUV6QixTQUFTQyxjQUFjLGlCQUFpQmUsVUFBVVMsT0FBTyxnQkFHN0RwQixnQkFBZ0IsbUNBQW9DLFNBQVMsU0FBU1MsR0FDbEVBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVVSxJQUFJLGFBQ25CMUIsU0FBU0MsY0FBYyxpQkFBaUJlLFVBQVVVLElBQUksYUFDdEQxQixTQUFTQyxjQUFjLGdDQUFnQ2UsVUFBVVMsT0FBTyxhQUN4RXpCLFNBQVNDLGNBQWMscUJBQXFCZSxVQUFVUyxPQUFPLGdCQUdqRXBCLGdCQUFnQixzQkFBdUIsU0FBUyxTQUFTUyxHQUNyREEsRUFBRUMsaUJBQ0ZLLEtBQUtKLFVBQVVDLE9BQU8sYUFDdEJqQixTQUFTQyxjQUFjLHNCQUFzQmUsVUFBVUMsT0FBTyxnQkFHbEVaLGdCQUFnQix5Q0FBMEMsU0FBUyxTQUFTUyxHQUN4RUEsRUFBRUMsaUJBQ0ZLLEtBQUtKLFVBQVVDLE9BQU8sZ0JBSzFCakIsU0FBU1MsaUJBQWlCLHVCQUF1QkMsUUFBUUMsSUFDckQsSUFBSWtCLEVBQVVsQixFQUFHVixjQUFjLCtCQUMzQjRCLElBQ0FsQixFQUFHcUIsTUFBUUgsRUFBUUksYUFJM0I1QixnQkFBZ0IsdUNBQXdDLFNBQVMsU0FBU1MsR0FDdEVBLEVBQUVDLGlCQUNGSyxLQUFLQyxjQUFjTCxVQUFVQyxPQUFPLGFBQ3BDakIsU0FBU0MsY0FBYyw2QkFBNkJlLFVBQVVDLE9BQU8sZ0JBR3pFWixnQkFBZ0IsdUNBQXdDLFNBQVMsU0FBU1MsR0FDdEVBLEVBQUVDLGlCQUNGSyxLQUFLQyxjQUFjTCxVQUFVQyxPQUFPLGFBQ3BDakIsU0FBU0MsY0FBYyw2QkFBNkJlLFVBQVVDLE9BQU8sZ0JBR3pFWixnQkFBZ0IsMkhBQTRILFNBQVMsU0FBU1MsR0FDMUpBLEVBQUVDLGlCQUNGLElBQUltQixFQUFXZCxLQUFLZSxRQUFRLHdCQUN4QkQsR0FDQUEsRUFBU2xCLFVBQVVDLE9BQU8sZ0JBSWxDWixnQkFBZ0IscUhBQXNILFNBQVMsU0FBU1MsR0FDcEpBLEVBQUVDLGlCQUNGLElBQUltQixFQUFXZCxLQUFLZSxRQUFRLHdCQUN4QkQsR0FDQUEsRUFBU2xCLFVBQVVDLE9BQU8sZUFNbENaLGdCQUFnQix1RkFBd0YsU0FBUyxTQUFTUyxHQUN0SEEsRUFBRUMsaUJBQ0ZLLEtBQUtKLFVBQVVDLE9BQU8sZ0JBRzFCWixnQkFBZ0IsK0JBQWdDLFNBQVMsU0FBU1MsR0FDOURBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPLGFBQ3RCLElBQUltQixFQUFRcEMsU0FBU0MsY0FBYyx1QkFDL0JtQyxHQUNBQSxFQUFNcEIsVUFBVUMsT0FBTyxnQkFJL0JaLGdCQUFnQixtQ0FBb0MsU0FBUyxTQUFTUyxHQUNsRUEsRUFBRUMsaUJBQ0ZLLEtBQUtKLFVBQVVDLE9BQU8sZ0JBRzFCWixnQkFBZ0IsMEJBQTJCLFNBQVMsU0FBU1MsR0FDekRBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPLGtCQUcxQlosZ0JBQWdCLG1DQUFvQyxTQUFTLFNBQVNTLEdBQ2xFQSxFQUFFQyxpQkFDRixJQUFJc0IsRUFBUWpCLEtBQUtlLFFBQVEsNkJBQ3JCRSxHQUNBQSxFQUFNckIsVUFBVUMsT0FBTyxnQkFJL0JaLGdCQUFnQiw2QkFBOEIsU0FBUyxTQUFTUyxHQUM1REEsRUFBRUMsaUJBQ0YsSUFBSXVCLEVBQU1sQixLQUFLZSxRQUFRLHVCQUNuQkcsR0FDQUEsRUFBSWIsWUFJWnBCLGdCQUFnQix1Q0FBd0MsU0FBUyxTQUFTUyxHQUN0RUEsRUFBRUMsaUJBQ0ZLLEtBQUtKLFVBQVVDLE9BQU8sZ0JBSzFCWixnQkFBZ0IscUNBQXNDLFNBQVMsU0FBU1MsR0FDcEVBLEVBQUVDLGlCQUVTSyxLQUFLZSxRQUFRLFNBQ0YxQixpQkFBaUIsZUFFNUJDLFFBQVM2QixJQUNoQkEsRUFBSXZCLFVBQVVTLE9BQU8saUJBR3pCTCxLQUFLSixVQUFVVSxJQUFJLGtCQUd2QnJCLGdCQUFnQix5Q0FBMEMsU0FBUyxTQUFTUyxHQUN4RUEsRUFBRUMsaUJBRUYsSUFBSXlCLEVBQVdwQixLQUFLZSxRQUFRLGNBRXhCSyxHQUNBQSxFQUFTeEIsVUFBVUMsT0FBTyIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNNb2JpbGUoKVxue1xuICAgIGxldCBkZXNrdG9wTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWJhcl9fZGVza3RvcC1tZW51Jyk7XG4gICAgbGV0IHN0YXR1cyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRlc2t0b3BNZW51KS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXNwbGF5Jyk7XG4gICAgcmV0dXJuIChzdGF0dXMgPT0gJ25vbmUnKSA/IHRydWUgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRIYW5kbGVyKHNlbGVjdG9yLCBldmVudCwgaGFuZGxlcilcbntcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1vYmlsZU1lbnUoZSlcbntcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZURyb3BEb3duTWVudShlKVxue1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGxldCBwYXJlbnQgPSB0aGlzLnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IGlzVXNlck1lbnUgPSBwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51LWJhcl9fdXNlcicpO1xuICAgIGxldCBpc0FjdGl2ZSA9IHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpO1xuXG4gICAgaWYgKGlzVXNlck1lbnUgJiYgaXNNb2JpbGUoKSkge1xuICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIHRvZ2dsZU1vYmlsZU1lbnUoZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmaXJzdCByZW1vdmUgdGhlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCBkcm9wLWRvd24gbWVudXNcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWJhcl9fdXNlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtYmFyX19sYW5ndWFnZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtYmFyX19jdXJyZW5jeScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIGFjdGl2ZSBjbGFzcyB0byBzZWxlY3RlZCBkcm9wLWRvd24gbWVudVxuICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gdG9nZ2xlU3ViTWVudShlKVxue1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG59XG5cbmZ1bmN0aW9uIHNob3dBbGxDb3VudHJpZXMoZSlcbntcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCBoaWRkZW5Db3VudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubWFpbi1zZWFyY2hfX2NvdW50cmllc19fY291bnRyeS1saXN0IC5pcy1oaWRkZW4nKTtcblxuICAgIGhpZGRlbkNvdW50cmllcy5mb3JFYWNoKChjb3VudHJ5KSA9PiB7XG4gICAgICAgIGNvdW50cnkuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1zZWFyY2hfX2NvdW50cmllc19fc2hvdy1hbGwnKS5yZW1vdmUoKTtcbn1cblxuKGZ1bmN0aW9uKCl7XG4gICAgY29uc29sZS5sb2coJ2RvbSByZWFkeScpO1xuXG4gICAgLy8gQWxsIHBhZ2VzXG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5tb2JpbGUtbWVudS1idXJnZXJfX2J1dHRvbicsICdjbGljaycsIHRvZ2dsZU1vYmlsZU1lbnUpO1xuICAgIGFkZEV2ZW50SGFuZGxlcignLm1vYmlsZS1tZW51X19saXN0X19pdGVtLmhhcy1zdWJtZW51ID4gYScsICdjbGljaycsIHRvZ2dsZVN1Yk1lbnUpO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKFxuICAgICAgICAnLm1lbnUtYmFyX191c2VyX19idXR0b24sIC5tZW51LWJhcl9fY3VycmVuY3lfX2J1dHRvbiwgLm1lbnUtYmFyX19sYW5ndWFnZV9fYnV0dG9uJyxcbiAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgdG9nZ2xlRHJvcERvd25NZW51XG4gICAgKTtcblxuICAgIC8vIE1haW4gcGFnZVxuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcubWFpbi1zZWFyY2hfX2NvdW50cmllc19fc2hvdy1hbGxfX2J1dHRvbicsICdjbGljaycsIHNob3dBbGxDb3VudHJpZXMpO1xuXG4gICAgLy8gQWRkIGxpc3RpbmcgcGFnZVxuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcuYWRkLWxpc3RpbmdfX2Ryb3Bkb3duLWlucHV0X19idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5hZGQtbGlzdGluZ19fdGFnJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdpcy1zZWxlY3RlZCcpO1xuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcucHJvcGVydHktZGV0YWlsc19fZGVzY3JpcHRpb25fX3RpdGxlX19zZWUtbW9yZScsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb3BlcnR5LWRldGFpbHNfX2Rlc2NyaXB0aW9uX190ZXh0JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5pbmxpbmUtZm9ybV9faW5wdXRfX2Ryb3Bkb3duJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIC8vIFByb3BlcnR5IHBhZ2VcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnByb3BlcnR5LWRldGFpbHNfX2RhdGFfX2l0ZW1fX2J1dHRvbi0tc2F2ZScsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5wcm9wZXJ0eS1nbV9fc3dpdGNoLS10by1tYXAnLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvcGVydHktZ2FsbGVyeScpLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvcGVydHktZ21fX3N3aXRjaC0tdG8tZ2FsbGVyeScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvcGVydHktbWFwJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5wcm9wZXJ0eS1nbV9fc3dpdGNoLS10by1nYWxsZXJ5JywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb3BlcnR5LW1hcCcpLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvcGVydHktZ21fX3N3aXRjaC0tdG8tbWFwJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9wZXJ0eS1nYWxsZXJ5JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5wcm9wZXJ0eS1tYXBfX3pvb20nLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvcGVydHktbWFwX19tYXAnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy16b29tZWQnKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnNpbWlsYXItcHJvcGVydGllc19faXRlbV9fcGhvdG9fX3NhdmUnLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgLy8gQWdlbmN5IHBhZ2VcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb3VudHJ5LWxpc3RfX2l0ZW0nKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgbGV0IGNvdW50cnkgPSBlbC5xdWVyeVNlbGVjdG9yKCcuY291bnRyeS1saXN0X19pdGVtLWNvdW50cnknKTtcbiAgICAgICAgaWYgKGNvdW50cnkpIHtcbiAgICAgICAgICAgIGVsLnRpdGxlID0gY291bnRyeS5pbm5lclRleHQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLmFnZW5jeS1kZXNjcmlwdGlvbl9fdGl0bGVfX3NlZS1tb3JlJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWdlbmN5LWRlc2NyaXB0aW9uX190ZXh0JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5hZ2VuY3ktc3BlY2lhbGlzdHNfX3RpdGxlX19zZWUtbW9yZScsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFnZW5jeS1zcGVjaWFsaXN0c19fbGlzdCcpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWhpZGRlbicpO1xuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcucHJvcGVydHktbGlzdF9faXRlbS1waG90by1yZW1vdmUsIC5wcm9wZXJ0eS1saXN0X19pdGVtLWRldGFpbHMtYnV0dG9ucy1yZW1vdmUsIC5wcm9wZXJ0eS1saXN0X19pdGVtLWluZm8tYnV0dG9ucy1yZW1vdmUnLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgcHJvcGVydHkgPSB0aGlzLmNsb3Nlc3QoJy5wcm9wZXJ0eS1saXN0X19pdGVtJyk7XG4gICAgICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgcHJvcGVydHkuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnByb3BlcnR5LWxpc3RfX2l0ZW0tcGhvdG8tbGlrZSwgLnByb3BlcnR5LWxpc3RfX2l0ZW0tZGV0YWlscy1idXR0b25zLWxpa2UsIC5wcm9wZXJ0eS1saXN0X19pdGVtLWluZm8tYnV0dG9ucy1saWtlJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IHByb3BlcnR5ID0gdGhpcy5jbG9zZXN0KCcucHJvcGVydHktbGlzdF9faXRlbScpO1xuICAgICAgICBpZiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgIHByb3BlcnR5LmNsYXNzTGlzdC50b2dnbGUoJ2lzLWxpa2VkJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNlYXJjaCBwYWdlXG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5zZWFyY2gtZm9ybV9fZmxhdHMtYnV0dG9uLCAuc2VhcmNoLWZvcm1fX2JlZHJvb21zLWJ1dHRvbiwgLnNlYXJjaC1mb3JtX19jb3N0LWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5zZWFyY2gtZm9ybV9fZmlsdGVycy1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBsZXQgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWZvcm1fX3BvcHVwJyk7XG4gICAgICAgIGlmIChwb3B1cCkge1xuICAgICAgICAgICAgcG9wdXAuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnNlYXJjaC1mb3JtX19wb3B1cC1pbnB1dC1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcuc2VhcmNoLWZvcm1fX3BvcHVwLXRhZycsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtc2VsZWN0ZWQnKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnNlYXJjaC1mb3JtX19wb3B1cC10aXRsZS1zd2l0Y2gnLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLmNsb3Nlc3QoJy5zZWFyY2gtZm9ybV9fcG9wdXAtZ3JvdXAnKTtcbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBncm91cC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcuc2VhcmNoLXJlc3VsdF9fdGFnLXJlbW92ZScsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCB0YWcgPSB0aGlzLmNsb3Nlc3QoJy5zZWFyY2gtcmVzdWx0X190YWcnKTtcbiAgICAgICAgaWYgKHRhZykge1xuICAgICAgICAgICAgdGFnLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5zZWFyY2gtcmVzdWx0X19jb250cm9scy1pdGVtLWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBDb21tb24gcGFnZVxuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcuY29udGVudF9fYm9keS0tY29tbW9uIC50YWJzX19pdGVtJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBsZXQgdGFicyA9IHRoaXMuY2xvc2VzdCgnLnRhYnMnKTtcbiAgICAgICAgbGV0IHRhYnNfaXRlbXMgPSB0YWJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy50YWJzX19pdGVtJyk7XG5cbiAgICAgICAgdGFic19pdGVtcy5mb3JFYWNoKCh0YWIpID0+IHtcbiAgICAgICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2lzLXNlbGVjdGVkJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5jb250ZW50X19ib2R5LS1jb21tb24gLmZhcV9faXRlbS1saW5rJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBsZXQgZmFxX2l0ZW0gPSB0aGlzLmNsb3Nlc3QoJy5mYXFfX2l0ZW0nKTtcblxuICAgICAgICBpZiAoZmFxX2l0ZW0pIHtcbiAgICAgICAgICAgIGZhcV9pdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbn0pKCk7XG4iXX0=
