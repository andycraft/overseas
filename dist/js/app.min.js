function isMobile(){let e=document.querySelector(".menu-bar__desktop-menu");return"none"==window.getComputedStyle(e).getPropertyValue("display")}function addEventHandler(e,t,i){document.querySelectorAll(e).forEach(e=>{e.addEventListener(t,i)})}function toggleMobileMenu(e){e.preventDefault(),document.querySelector(".mobile-menu").classList.toggle("is-active")}function toggleDropDownMenu(e){e.preventDefault();let t=this.parentElement,i=t.classList.contains("menu-bar__user"),s=t.classList.contains("is-active");i&&isMobile()?(t.classList.remove("is-active"),toggleMobileMenu(e)):s?t.classList.remove("is-active"):(document.querySelector(".menu-bar__user").classList.remove("is-active"),document.querySelector(".menu-bar__language").classList.remove("is-active"),document.querySelector(".menu-bar__currency").classList.remove("is-active"),t.classList.add("is-active"))}function toggleSubMenu(e){e.preventDefault(),this.parentElement.classList.toggle("is-active")}function showAllCountries(e){e.preventDefault();document.querySelectorAll(".main-search__countries__country-list .is-hidden").forEach(e=>{e.classList.remove("is-hidden")}),document.querySelector(".main-search__countries__show-all").remove()}console.log("dom ready"),addEventHandler(".mobile-menu-burger__button","click",toggleMobileMenu),addEventHandler(".mobile-menu__list__item.has-submenu > a","click",toggleSubMenu),addEventHandler(".menu-bar__user__button, .menu-bar__currency__button, .menu-bar__language__button","click",toggleDropDownMenu),addEventHandler(".main-search__countries__show-all__button","click",showAllCountries),addEventHandler(".add-listing__dropdown-input__button","click",(function(e){e.preventDefault(),this.parentElement.classList.toggle("is-active")})),addEventHandler(".add-listing__tag","click",(function(e){e.preventDefault(),this.classList.toggle("is-selected")})),addEventHandler(".property-details__description__title__see-more","click",(function(e){e.preventDefault(),this.parentElement.classList.toggle("is-active"),document.querySelector(".property-details__description__text").classList.toggle("is-hidden")})),addEventHandler(".inline-form__input__dropdown","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".property-details__data__item__button--save","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".property-gm__switch--to-map","click",(function(e){e.preventDefault(),this.classList.add("is-hidden"),document.querySelector(".property-gallery").classList.add("is-hidden"),document.querySelector(".property-gm__switch--to-gallery").classList.remove("is-hidden"),document.querySelector(".property-map").classList.remove("is-hidden")})),addEventHandler(".property-gm__switch--to-gallery","click",(function(e){e.preventDefault(),this.classList.add("is-hidden"),document.querySelector(".property-map").classList.add("is-hidden"),document.querySelector(".property-gm__switch--to-map").classList.remove("is-hidden"),document.querySelector(".property-gallery").classList.remove("is-hidden")})),addEventHandler(".property-map__zoom","click",(function(e){e.preventDefault(),this.classList.toggle("is-active"),document.querySelector(".property-map__map").classList.toggle("is-zoomed")})),addEventHandler(".similar-properties__item__photo__save","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),document.querySelectorAll(".country-list__item").forEach(e=>{let t=e.querySelector(".country-list__item-country");t&&(e.title=t.innerText)}),addEventHandler(".agency-description__title__see-more","click",(function(e){e.preventDefault(),this.parentElement.classList.toggle("is-active"),document.querySelector(".agency-description__text").classList.toggle("is-hidden")})),addEventHandler(".agency-specialists__title__see-more","click",(function(e){e.preventDefault(),this.parentElement.classList.toggle("is-active"),document.querySelector(".agency-specialists__list").classList.toggle("is-hidden")})),addEventHandler(".property-list__item-photo-remove, .property-list__item-details-buttons-remove, .property-list__item-info-buttons-remove","click",(function(e){e.preventDefault();let t=this.closest(".property-list__item");t&&t.classList.toggle("is-hidden")})),addEventHandler(".property-list__item-photo-like, .property-list__item-details-buttons-like, .property-list__item-info-buttons-like","click",(function(e){e.preventDefault();let t=this.closest(".property-list__item");t&&t.classList.toggle("is-liked")})),addEventHandler(".search-form__flats-button, .search-form__bedrooms-button, .search-form__cost-button","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".search-form__filters-button","click",(function(e){e.preventDefault(),this.classList.toggle("is-active");let t=document.querySelector(".search-form__popup");t&&t.classList.toggle("is-hidden")})),addEventHandler(".search-form__popup-input-button","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")})),addEventHandler(".search-form__popup-tag","click",(function(e){e.preventDefault(),this.classList.toggle("is-selected")})),addEventHandler(".search-form__popup-title-switch","click",(function(e){e.preventDefault();let t=this.closest(".search-form__popup-group");t&&t.classList.toggle("is-active")})),addEventHandler(".search-result__tag-remove","click",(function(e){e.preventDefault();let t=this.closest(".search-result__tag");t&&t.remove()})),addEventHandler(".search-result__controls-item-button","click",(function(e){e.preventDefault(),this.classList.toggle("is-active")}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJpc01vYmlsZSIsImRlc2t0b3BNZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJhZGRFdmVudEhhbmRsZXIiLCJzZWxlY3RvciIsImV2ZW50IiwiaGFuZGxlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTW9iaWxlTWVudSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInRvZ2dsZURyb3BEb3duTWVudSIsInBhcmVudCIsInRoaXMiLCJwYXJlbnRFbGVtZW50IiwiaXNVc2VyTWVudSIsImNvbnRhaW5zIiwiaXNBY3RpdmUiLCJyZW1vdmUiLCJhZGQiLCJ0b2dnbGVTdWJNZW51Iiwic2hvd0FsbENvdW50cmllcyIsImNvdW50cnkiLCJjb25zb2xlIiwibG9nIiwidGl0bGUiLCJpbm5lclRleHQiLCJwcm9wZXJ0eSIsImNsb3Nlc3QiLCJwb3B1cCIsImdyb3VwIiwidGFnIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxXQUVMLElBQUlDLEVBQWNDLFNBQVNDLGNBQWMsMkJBRXpDLE1BQWtCLFFBRExDLE9BQU9DLGlCQUFpQkosR0FBYUssaUJBQWlCLFdBSXZFLFNBQVNDLGdCQUFnQkMsRUFBVUMsRUFBT0MsR0FFdENSLFNBQVNTLGlCQUFpQkgsR0FBVUksUUFBUUMsSUFDeENBLEVBQUdDLGlCQUFpQkwsRUFBT0MsS0FJbkMsU0FBU0ssaUJBQWlCQyxHQUV0QkEsRUFBRUMsaUJBQ0ZmLFNBQVNDLGNBQWMsZ0JBQWdCZSxVQUFVQyxPQUFPLGFBRzVELFNBQVNDLG1CQUFtQkosR0FFeEJBLEVBQUVDLGlCQUVGLElBQUlJLEVBQVNDLEtBQUtDLGNBQ2RDLEVBQWFILEVBQU9ILFVBQVVPLFNBQVMsa0JBQ3ZDQyxFQUFXTCxFQUFPSCxVQUFVTyxTQUFTLGFBRXJDRCxHQUFjeEIsWUFDZHFCLEVBQU9ILFVBQVVTLE9BQU8sYUFDeEJaLGlCQUFpQkMsSUFFYlUsRUFDQUwsRUFBT0gsVUFBVVMsT0FBTyxjQUd4QnpCLFNBQVNDLGNBQWMsbUJBQW1CZSxVQUFVUyxPQUFPLGFBQzNEekIsU0FBU0MsY0FBYyx1QkFBdUJlLFVBQVVTLE9BQU8sYUFDL0R6QixTQUFTQyxjQUFjLHVCQUF1QmUsVUFBVVMsT0FBTyxhQUcvRE4sRUFBT0gsVUFBVVUsSUFBSSxjQU9qQyxTQUFTQyxjQUFjYixHQUVuQkEsRUFBRUMsaUJBQ0ZLLEtBQUtDLGNBQWNMLFVBQVVDLE9BQU8sYUFHeEMsU0FBU1csaUJBQWlCZCxHQUV0QkEsRUFBRUMsaUJBRXNCZixTQUFTUyxpQkFBaUIsb0RBRWxDQyxRQUFTbUIsSUFDckJBLEVBQVFiLFVBQVVTLE9BQU8sZUFHN0J6QixTQUFTQyxjQUFjLHFDQUFxQ3dCLFNBSTVESyxRQUFRQyxJQUFJLGFBSVoxQixnQkFBZ0IsOEJBQStCLFFBQVNRLGtCQUN4RFIsZ0JBQWdCLDJDQUE0QyxRQUFTc0IsZUFFckV0QixnQkFDSSxvRkFDQSxRQUNBYSxvQkFLSmIsZ0JBQWdCLDRDQUE2QyxRQUFTdUIsa0JBSXRFdkIsZ0JBQWdCLHVDQUF3QyxTQUFTLFNBQVNTLEdBQ3RFQSxFQUFFQyxpQkFDRkssS0FBS0MsY0FBY0wsVUFBVUMsT0FBTyxnQkFHeENaLGdCQUFnQixvQkFBcUIsU0FBUyxTQUFTUyxHQUNuREEsRUFBRUMsaUJBQ0ZLLEtBQUtKLFVBQVVDLE9BQU8sa0JBRzFCWixnQkFBZ0Isa0RBQW1ELFNBQVMsU0FBU1MsR0FDakZBLEVBQUVDLGlCQUNGSyxLQUFLQyxjQUFjTCxVQUFVQyxPQUFPLGFBQ3BDakIsU0FBU0MsY0FBYyx3Q0FBd0NlLFVBQVVDLE9BQU8sZ0JBR3BGWixnQkFBZ0IsZ0NBQWlDLFNBQVMsU0FBU1MsR0FDL0RBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPLGdCQUsxQlosZ0JBQWdCLDhDQUErQyxTQUFTLFNBQVNTLEdBQzdFQSxFQUFFQyxpQkFDRkssS0FBS0osVUFBVUMsT0FBTyxnQkFHMUJaLGdCQUFnQiwrQkFBZ0MsU0FBUyxTQUFTUyxHQUM5REEsRUFBRUMsaUJBQ0ZLLEtBQUtKLFVBQVVVLElBQUksYUFDbkIxQixTQUFTQyxjQUFjLHFCQUFxQmUsVUFBVVUsSUFBSSxhQUMxRDFCLFNBQVNDLGNBQWMsb0NBQW9DZSxVQUFVUyxPQUFPLGFBQzVFekIsU0FBU0MsY0FBYyxpQkFBaUJlLFVBQVVTLE9BQU8sZ0JBRzdEcEIsZ0JBQWdCLG1DQUFvQyxTQUFTLFNBQVNTLEdBQ2xFQSxFQUFFQyxpQkFDRkssS0FBS0osVUFBVVUsSUFBSSxhQUNuQjFCLFNBQVNDLGNBQWMsaUJBQWlCZSxVQUFVVSxJQUFJLGFBQ3REMUIsU0FBU0MsY0FBYyxnQ0FBZ0NlLFVBQVVTLE9BQU8sYUFDeEV6QixTQUFTQyxjQUFjLHFCQUFxQmUsVUFBVVMsT0FBTyxnQkFHakVwQixnQkFBZ0Isc0JBQXVCLFNBQVMsU0FBU1MsR0FDckRBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPLGFBQ3RCakIsU0FBU0MsY0FBYyxzQkFBc0JlLFVBQVVDLE9BQU8sZ0JBR2xFWixnQkFBZ0IseUNBQTBDLFNBQVMsU0FBU1MsR0FDeEVBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPLGdCQUsxQmpCLFNBQVNTLGlCQUFpQix1QkFBdUJDLFFBQVFDLElBQ3JELElBQUlrQixFQUFVbEIsRUFBR1YsY0FBYywrQkFDM0I0QixJQUNBbEIsRUFBR3FCLE1BQVFILEVBQVFJLGFBSTNCNUIsZ0JBQWdCLHVDQUF3QyxTQUFTLFNBQVNTLEdBQ3RFQSxFQUFFQyxpQkFDRkssS0FBS0MsY0FBY0wsVUFBVUMsT0FBTyxhQUNwQ2pCLFNBQVNDLGNBQWMsNkJBQTZCZSxVQUFVQyxPQUFPLGdCQUd6RVosZ0JBQWdCLHVDQUF3QyxTQUFTLFNBQVNTLEdBQ3RFQSxFQUFFQyxpQkFDRkssS0FBS0MsY0FBY0wsVUFBVUMsT0FBTyxhQUNwQ2pCLFNBQVNDLGNBQWMsNkJBQTZCZSxVQUFVQyxPQUFPLGdCQUd6RVosZ0JBQWdCLDJIQUE0SCxTQUFTLFNBQVNTLEdBQzFKQSxFQUFFQyxpQkFDRixJQUFJbUIsRUFBV2QsS0FBS2UsUUFBUSx3QkFDeEJELEdBQ0FBLEVBQVNsQixVQUFVQyxPQUFPLGdCQUlsQ1osZ0JBQWdCLHFIQUFzSCxTQUFTLFNBQVNTLEdBQ3BKQSxFQUFFQyxpQkFDRixJQUFJbUIsRUFBV2QsS0FBS2UsUUFBUSx3QkFDeEJELEdBQ0FBLEVBQVNsQixVQUFVQyxPQUFPLGVBTWxDWixnQkFBZ0IsdUZBQXdGLFNBQVMsU0FBU1MsR0FDdEhBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPLGdCQUcxQlosZ0JBQWdCLCtCQUFnQyxTQUFTLFNBQVNTLEdBQzlEQSxFQUFFQyxpQkFDRkssS0FBS0osVUFBVUMsT0FBTyxhQUN0QixJQUFJbUIsRUFBUXBDLFNBQVNDLGNBQWMsdUJBQy9CbUMsR0FDQUEsRUFBTXBCLFVBQVVDLE9BQU8sZ0JBSS9CWixnQkFBZ0IsbUNBQW9DLFNBQVMsU0FBU1MsR0FDbEVBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPLGdCQUcxQlosZ0JBQWdCLDBCQUEyQixTQUFTLFNBQVNTLEdBQ3pEQSxFQUFFQyxpQkFDRkssS0FBS0osVUFBVUMsT0FBTyxrQkFHMUJaLGdCQUFnQixtQ0FBb0MsU0FBUyxTQUFTUyxHQUNsRUEsRUFBRUMsaUJBQ0YsSUFBSXNCLEVBQVFqQixLQUFLZSxRQUFRLDZCQUNyQkUsR0FDQUEsRUFBTXJCLFVBQVVDLE9BQU8sZ0JBSS9CWixnQkFBZ0IsNkJBQThCLFNBQVMsU0FBU1MsR0FDNURBLEVBQUVDLGlCQUNGLElBQUl1QixFQUFNbEIsS0FBS2UsUUFBUSx1QkFDbkJHLEdBQ0FBLEVBQUliLFlBSVpwQixnQkFBZ0IsdUNBQXdDLFNBQVMsU0FBU1MsR0FDdEVBLEVBQUVDLGlCQUNGSyxLQUFLSixVQUFVQyxPQUFPIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpc01vYmlsZSgpXG57XG4gICAgbGV0IGRlc2t0b3BNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtYmFyX19kZXNrdG9wLW1lbnUnKTtcbiAgICBsZXQgc3RhdHVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGVza3RvcE1lbnUpLmdldFByb3BlcnR5VmFsdWUoJ2Rpc3BsYXknKTtcbiAgICByZXR1cm4gKHN0YXR1cyA9PSAnbm9uZScpID8gdHJ1ZSA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudEhhbmRsZXIoc2VsZWN0b3IsIGV2ZW50LCBoYW5kbGVyKVxue1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlTW9iaWxlTWVudShlKVxue1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlRHJvcERvd25NZW51KGUpXG57XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50RWxlbWVudDtcbiAgICBsZXQgaXNVc2VyTWVudSA9IHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ21lbnUtYmFyX191c2VyJyk7XG4gICAgbGV0IGlzQWN0aXZlID0gcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJyk7XG5cbiAgICBpZiAoaXNVc2VyTWVudSAmJiBpc01vYmlsZSgpKSB7XG4gICAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgdG9nZ2xlTW9iaWxlTWVudShlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHJlbW92ZSB0aGUgYWN0aXZlIGNsYXNzIGZyb20gYWxsIGRyb3AtZG93biBtZW51c1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUtYmFyX191c2VyJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1iYXJfX2xhbmd1YWdlJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudS1iYXJfX2N1cnJlbmN5JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIC8vIGFkZCB0aGUgYWN0aXZlIGNsYXNzIHRvIHNlbGVjdGVkIGRyb3AtZG93biBtZW51XG4gICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgIH1cblxufVxuXG5mdW5jdGlvbiB0b2dnbGVTdWJNZW51KGUpXG57XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbn1cblxuZnVuY3Rpb24gc2hvd0FsbENvdW50cmllcyhlKVxue1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGhpZGRlbkNvdW50cmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5tYWluLXNlYXJjaF9fY291bnRyaWVzX19jb3VudHJ5LWxpc3QgLmlzLWhpZGRlbicpO1xuXG4gICAgaGlkZGVuQ291bnRyaWVzLmZvckVhY2goKGNvdW50cnkpID0+IHtcbiAgICAgICAgY291bnRyeS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXNlYXJjaF9fY291bnRyaWVzX19zaG93LWFsbCcpLnJlbW92ZSgpO1xufVxuXG4oZnVuY3Rpb24oKXtcbiAgICBjb25zb2xlLmxvZygnZG9tIHJlYWR5Jyk7XG5cbiAgICAvLyBBbGwgcGFnZXNcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLm1vYmlsZS1tZW51LWJ1cmdlcl9fYnV0dG9uJywgJ2NsaWNrJywgdG9nZ2xlTW9iaWxlTWVudSk7XG4gICAgYWRkRXZlbnRIYW5kbGVyKCcubW9iaWxlLW1lbnVfX2xpc3RfX2l0ZW0uaGFzLXN1Ym1lbnUgPiBhJywgJ2NsaWNrJywgdG9nZ2xlU3ViTWVudSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoXG4gICAgICAgICcubWVudS1iYXJfX3VzZXJfX2J1dHRvbiwgLm1lbnUtYmFyX19jdXJyZW5jeV9fYnV0dG9uLCAubWVudS1iYXJfX2xhbmd1YWdlX19idXR0b24nLFxuICAgICAgICAnY2xpY2snLFxuICAgICAgICB0b2dnbGVEcm9wRG93bk1lbnVcbiAgICApO1xuXG4gICAgLy8gTWFpbiBwYWdlXG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5tYWluLXNlYXJjaF9fY291bnRyaWVzX19zaG93LWFsbF9fYnV0dG9uJywgJ2NsaWNrJywgc2hvd0FsbENvdW50cmllcyk7XG5cbiAgICAvLyBBZGQgbGlzdGluZyBwYWdlXG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5hZGQtbGlzdGluZ19fZHJvcGRvd24taW5wdXRfX2J1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLmFkZC1saXN0aW5nX190YWcnLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLXNlbGVjdGVkJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5wcm9wZXJ0eS1kZXRhaWxzX19kZXNjcmlwdGlvbl9fdGl0bGVfX3NlZS1tb3JlJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvcGVydHktZGV0YWlsc19fZGVzY3JpcHRpb25fX3RleHQnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1oaWRkZW4nKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLmlubGluZS1mb3JtX19pbnB1dF9fZHJvcGRvd24nLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgLy8gUHJvcGVydHkgcGFnZVxuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcucHJvcGVydHktZGV0YWlsc19fZGF0YV9faXRlbV9fYnV0dG9uLS1zYXZlJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnByb3BlcnR5LWdtX19zd2l0Y2gtLXRvLW1hcCcsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9wZXJ0eS1nYWxsZXJ5JykuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9wZXJ0eS1nbV9fc3dpdGNoLS10by1nYWxsZXJ5JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9wZXJ0eS1tYXAnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnByb3BlcnR5LWdtX19zd2l0Y2gtLXRvLWdhbGxlcnknLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvcGVydHktbWFwJykuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9wZXJ0eS1nbV9fc3dpdGNoLS10by1tYXAnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb3BlcnR5LWdhbGxlcnknKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnByb3BlcnR5LW1hcF9fem9vbScsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9wZXJ0eS1tYXBfX21hcCcpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLXpvb21lZCcpO1xuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcuc2ltaWxhci1wcm9wZXJ0aWVzX19pdGVtX19waG90b19fc2F2ZScsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBBZ2VuY3kgcGFnZVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvdW50cnktbGlzdF9faXRlbScpLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBsZXQgY291bnRyeSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5jb3VudHJ5LWxpc3RfX2l0ZW0tY291bnRyeScpO1xuICAgICAgICBpZiAoY291bnRyeSkge1xuICAgICAgICAgICAgZWwudGl0bGUgPSBjb3VudHJ5LmlubmVyVGV4dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcuYWdlbmN5LWRlc2NyaXB0aW9uX190aXRsZV9fc2VlLW1vcmUnLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZ2VuY3ktZGVzY3JpcHRpb25fX3RleHQnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1oaWRkZW4nKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLmFnZW5jeS1zcGVjaWFsaXN0c19fdGl0bGVfX3NlZS1tb3JlJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWdlbmN5LXNwZWNpYWxpc3RzX19saXN0JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5wcm9wZXJ0eS1saXN0X19pdGVtLXBob3RvLXJlbW92ZSwgLnByb3BlcnR5LWxpc3RfX2l0ZW0tZGV0YWlscy1idXR0b25zLXJlbW92ZSwgLnByb3BlcnR5LWxpc3RfX2l0ZW0taW5mby1idXR0b25zLXJlbW92ZScsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBwcm9wZXJ0eSA9IHRoaXMuY2xvc2VzdCgnLnByb3BlcnR5LWxpc3RfX2l0ZW0nKTtcbiAgICAgICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICAgICAgICBwcm9wZXJ0eS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcucHJvcGVydHktbGlzdF9faXRlbS1waG90by1saWtlLCAucHJvcGVydHktbGlzdF9faXRlbS1kZXRhaWxzLWJ1dHRvbnMtbGlrZSwgLnByb3BlcnR5LWxpc3RfX2l0ZW0taW5mby1idXR0b25zLWxpa2UnLCAnY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgcHJvcGVydHkgPSB0aGlzLmNsb3Nlc3QoJy5wcm9wZXJ0eS1saXN0X19pdGVtJyk7XG4gICAgICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgcHJvcGVydHkuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtbGlrZWQnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2VhcmNoIHBhZ2VcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnNlYXJjaC1mb3JtX19mbGF0cy1idXR0b24sIC5zZWFyY2gtZm9ybV9fYmVkcm9vbXMtYnV0dG9uLCAuc2VhcmNoLWZvcm1fX2Nvc3QtYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnNlYXJjaC1mb3JtX19maWx0ZXJzLWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIGxldCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtZm9ybV9fcG9wdXAnKTtcbiAgICAgICAgaWYgKHBvcHVwKSB7XG4gICAgICAgICAgICBwb3B1cC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcuc2VhcmNoLWZvcm1fX3BvcHVwLWlucHV0LWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5zZWFyY2gtZm9ybV9fcG9wdXAtdGFnJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdpcy1zZWxlY3RlZCcpO1xuICAgIH0pO1xuXG4gICAgYWRkRXZlbnRIYW5kbGVyKCcuc2VhcmNoLWZvcm1fX3BvcHVwLXRpdGxlLXN3aXRjaCcsICdjbGljaycsIGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBncm91cCA9IHRoaXMuY2xvc2VzdCgnLnNlYXJjaC1mb3JtX19wb3B1cC1ncm91cCcpO1xuICAgICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgICAgIGdyb3VwLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXIoJy5zZWFyY2gtcmVzdWx0X190YWctcmVtb3ZlJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IHRhZyA9IHRoaXMuY2xvc2VzdCgnLnNlYXJjaC1yZXN1bHRfX3RhZycpO1xuICAgICAgICBpZiAodGFnKSB7XG4gICAgICAgICAgICB0YWcucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZEV2ZW50SGFuZGxlcignLnNlYXJjaC1yZXN1bHRfX2NvbnRyb2xzLWl0ZW0tYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICB9KTtcblxufSkoKTtcbiJdfQ==
